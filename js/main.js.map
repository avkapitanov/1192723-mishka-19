{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["if (\"NodeList\" in window && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = function (callback, thisArg) {\n    thisArg = thisArg || window;\n    for (var i = 0; i < this.length; i++) {\n      callback.call(thisArg, this[i], i, this);\n    }\n  };\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (window.ymaps) {\n    ymaps.ready(function () {\n      var mapWrapper = document.querySelector(\".contacts__map\");\n      if (mapWrapper) {\n        mapWrapper.classList.remove('contacts__map--nojs');\n        var myMap = new ymaps.Map(\"map\", {\n            center: [59.938635, 30.323118],\n            zoom: 16,\n            controls: []\n          }, {\n            searchControlProvider: \"yandex#search\"\n          }),\n\n          myPlacemark = new ymaps.Placemark([59.938635, 30.323118], {}, {\n            iconLayout: \"default#image\",\n            iconImageHref: \"img/icon-map-pin.svg\",\n            iconImageSize: [66, 100],\n            iconImageOffset: [-33, -100]\n          });\n\n        myMap.geoObjects\n          .add(myPlacemark);\n      }\n    });\n  }\n\n  var toggleBtn = document.querySelector(\".main-header__toggle\");\n  var header = document.querySelector(\".main-header\");\n\n  if (header) {\n    header.classList.remove(\"main-header--nojs\");\n  }\n\n  if (toggleBtn) {\n    toggleBtn.addEventListener(\"click\", function () {\n      header.classList.toggle(\"main-header--opened\");\n    });\n  }\n\n  var formLink = document.querySelector(\".week-product__buy-btn\");\n  var popup = document.querySelector(\".modal\");\n  var overlay = document.querySelector(\".modal__overlay\");\n\n  if (formLink) {\n    formLink.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.add(\"modal--opened\");\n    });\n  }\n\n  if (overlay) {\n    overlay.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.remove(\"modal--opened\");\n    });\n  }\n\n  window.addEventListener(\"keydown\", function (evt) {\n    if (evt.keyCode === 27) {\n      evt.preventDefault();\n      if (popup.classList.contains(\"modal--opened\")) {\n        popup.classList.remove(\"modal--opened\");\n      }\n    }\n  });\n\n  var productBuyBtn = document.querySelectorAll(\".product__buy\");\n\n  productBuyBtn.forEach(function(buyBtn) {\n    buyBtn.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.add(\"modal--opened\");\n    })\n  });\n});\n"],"file":"main.js"}