{"version":3,"sources":["main.js"],"names":["window","NodeList","prototype","forEach","callback","thisArg","i","this","length","call","document","addEventListener","ymaps","ready","mapWrapper","querySelector","classList","remove","myMap","Map","center","zoom","controls","searchControlProvider","myPlacemark","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","add","toggleBtn","header","toggle","formLink","popup","overlay","evt","preventDefault","keyCode","contains","querySelectorAll","buyBtn"],"mappings":"AAAI,aAAcA,SAAWC,SAASC,UAAUC,UAC9CF,SAASC,UAAUC,QAAU,SAAUC,EAAUC,GAC/CA,EAAUA,GAAWL,OACrB,IAAK,IAAIM,EAAI,EAAGA,EAAIC,KAAKC,OAAQF,IAC/BF,EAASK,KAAKJ,EAASE,KAAKD,GAAIA,EAAGC,QAKzCG,SAASC,iBAAiB,mBAAoB,WACxCX,OAAOY,OACTA,MAAMC,MAAM,WACV,IAAIC,EAAaJ,SAASK,cAAc,kBACxC,GAAID,EAAY,CACdA,EAAWE,UAAUC,OAAO,uBAC5B,IAAIC,EAAQ,IAAIN,MAAMO,IAAI,MAAO,CAC7BC,OAAQ,CAAC,UAAW,WACpBC,KAAM,GACNC,SAAU,IACT,CACDC,sBAAuB,kBAGzBC,EAAc,IAAIZ,MAAMa,UAAU,CAAC,UAAW,WAAY,GAAI,CAC5DC,WAAY,gBACZC,cAAe,uBACfC,cAAe,CAAC,GAAI,KACpBC,gBAAiB,EAAE,IAAK,OAG5BX,EAAMY,WACHC,IAAIP,MAKb,IAAIQ,EAAYtB,SAASK,cAAc,wBACnCkB,EAASvB,SAASK,cAAc,gBAEhCkB,GACFA,EAAOjB,UAAUC,OAAO,qBAGtBe,GACFA,EAAUrB,iBAAiB,QAAS,WAClCsB,EAAOjB,UAAUkB,OAAO,yBAI5B,IAAIC,EAAWzB,SAASK,cAAc,0BAClCqB,EAAQ1B,SAASK,cAAc,UAC/BsB,EAAU3B,SAASK,cAAc,mBAEjCoB,GACFA,EAASxB,iBAAiB,QAAS,SAAU2B,GAC3CA,EAAIC,iBACJH,EAAMpB,UAAUe,IAAI,mBAIpBM,GACFA,EAAQ1B,iBAAiB,QAAS,SAAU2B,GAC1CA,EAAIC,iBACJH,EAAMpB,UAAUC,OAAO,mBAI3BjB,OAAOW,iBAAiB,UAAW,SAAU2B,GACvB,KAAhBA,EAAIE,UACNF,EAAIC,iBACAH,EAAMpB,UAAUyB,SAAS,kBAC3BL,EAAMpB,UAAUC,OAAO,oBAKTP,SAASgC,iBAAiB,iBAEhCvC,QAAQ,SAASwC,GAC7BA,EAAOhC,iBAAiB,QAAS,SAAU2B,GACzCA,EAAIC,iBACJH,EAAMpB,UAAUe,IAAI","sourcesContent":["if (\"NodeList\" in window && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = function (callback, thisArg) {\n    thisArg = thisArg || window;\n    for (var i = 0; i < this.length; i++) {\n      callback.call(thisArg, this[i], i, this);\n    }\n  };\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (window.ymaps) {\n    ymaps.ready(function () {\n      var mapWrapper = document.querySelector(\".contacts__map\");\n      if (mapWrapper) {\n        mapWrapper.classList.remove('contacts__map--nojs');\n        var myMap = new ymaps.Map(\"map\", {\n            center: [59.938635, 30.323118],\n            zoom: 16,\n            controls: []\n          }, {\n            searchControlProvider: \"yandex#search\"\n          }),\n\n          myPlacemark = new ymaps.Placemark([59.938635, 30.323118], {}, {\n            iconLayout: \"default#image\",\n            iconImageHref: \"img/icon-map-pin.svg\",\n            iconImageSize: [66, 100],\n            iconImageOffset: [-33, -100]\n          });\n\n        myMap.geoObjects\n          .add(myPlacemark);\n      }\n    });\n  }\n\n  var toggleBtn = document.querySelector(\".main-header__toggle\");\n  var header = document.querySelector(\".main-header\");\n\n  if (header) {\n    header.classList.remove(\"main-header--nojs\");\n  }\n\n  if (toggleBtn) {\n    toggleBtn.addEventListener(\"click\", function () {\n      header.classList.toggle(\"main-header--opened\");\n    });\n  }\n\n  var formLink = document.querySelector(\".week-product__buy-btn\");\n  var popup = document.querySelector(\".modal\");\n  var overlay = document.querySelector(\".modal__overlay\");\n\n  if (formLink) {\n    formLink.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.add(\"modal--opened\");\n    });\n  }\n\n  if (overlay) {\n    overlay.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.remove(\"modal--opened\");\n    });\n  }\n\n  window.addEventListener(\"keydown\", function (evt) {\n    if (evt.keyCode === 27) {\n      evt.preventDefault();\n      if (popup.classList.contains(\"modal--opened\")) {\n        popup.classList.remove(\"modal--opened\");\n      }\n    }\n  });\n\n  var productBuyBtn = document.querySelectorAll(\".product__buy\");\n\n  productBuyBtn.forEach(function(buyBtn) {\n    buyBtn.addEventListener(\"click\", function (evt) {\n      evt.preventDefault();\n      popup.classList.add(\"modal--opened\");\n    })\n  });\n});\n"],"file":"main.min.js"}